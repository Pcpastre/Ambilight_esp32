<!DOCTYPE html>
<html>
<header>
  <meta charset="UTF-8" name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=yes" />
  <style type="text/css">
    :root {
      --SysLog: 'Calibri';
    }

    .hello {
      margin-top: 1%;
      margin-left: 3%;
      background: #5A5E5F;
      display: flex;
      flex-direction: column;
      justify-content: left;
      align-items: left;
    }

    .titleDiv {
      margin-top: 1%;
      margin-left: 0%;
      background: #5A5E5F;
      display: flex;
      flex-direction: column;
      justify-content: left;
      align-items: center;
    }

    html {
      font-family: Helvetica;
      margin: 0px auto;
      text-align: center;
      zoom: 175%;
      background-color: #5A5E5F;
    }

    .boxConfExt {
      border: solid #1B7FD6 2pt;
      background: #00A1D6;
      border-radius: 10px;
      height: fit-content;
      width: fit-content;
      text-align: center;

    }

    .boxConf {
      height: fit-content;
      width: fit-content;
      text-align: center;
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
    }

    .title {
      border: solid #1B7FD6 4pt;
      background: #00A1D6;
      border-radius: 100px;
      text-align: center;
      font-family: var(--SysLog);
      font-weight: bold;
      font-size: 49px;
      height: fit-content;
      width: fit-content;
      color: #fff
    }

    f1 {
      font-family: var(--SysLog);
      font-weight: bold;
      color: #fff;
      font-size: relative;
    }

    .us-form select {
      position: relative;
      background: #00A1D6;
      font-family: var(--SysLog);
      font-weight: bold;
      color: #fff;
      font-size: relative;

    }

    .button {
      box-sizing: border-box;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      background-color: transparent;
      border: 2px solid #e74c3c;
      border-radius: 100px;
      color: #e74c3c;
      cursor: pointer;
      display: -webkit-box;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
      -webkit-align-self: center;
      -ms-flex-item-align: center;
      align-self: center;
      font-size: 1rem;
      font-weight: 400;
      line-height: 1;
      margin: 20px;
      padding: 1% 8%;
      text-decoration: none;
      text-align: center;
      text-transform: uppercase;
      font-family: var(--SysLog);
      font-weight: 700;
    }

    .button:hover,
    .button:focus {
      color: #fff;
      outline: 0;
    }

    .third {
      border-color: #3498db;
      color: #fff;
      box-shadow: 0 0 40px 40px #3498db inset, 0 0 0 0 #3498db;
      -webkit-transition: all 150ms ease-in-out;
      transition: all 150ms ease-in-out;
    }

    .third:hover {
      box-shadow: 0 0 10px 0 #3498db inset, 0 0 10px 4px #3498db;
    }
  </style>

</header>

<body style="background-color:#5A5E5F;">

  <div class="titleDiv">
    <div class='title'>
      Teste das Animações
    </div>
  </div>

  <div class="hello">

    <BR>
    <div class="boxConfExt">
      <table border=0>
        <tr class="us-form">
          <td>
            <f1>BOT:</f1>
          </td>
          <td><select id="botIP">
              <!-- <option value="192.168.15.9">BotC - Verde</option> -->
              <option value="169.254.1.51">BotA - ROXO</option>
              <option value="169.254.1.41">BotB - AMARELO</option>
              <option value="169.254.1.31">BotC - VERDE</option>
            </select></td>
        </tr>
      </table>
    </div>

    <BR>
    <BR>

    <div class="boxConf">
      <div class='boxConfExt'>
        <table border=0>
          <tr class="us-form">
            <td>
              <f1>Expressão:</f1>
            </td>
            <td><select id="exp">
                <option value="1E">Normal</option>
                <option value="2E">Pensativo</option>
                <option value="3E">Surpreso</option>
                <option value="4E">Triste</option>
                <option value="5E">Feliz</option>
              </select></td>
          </tr>
        </table>
        <table border=0>
          <tr class="us-form">
            <td>
              <f1>Movimento dos olhos:</f1>
            </td>
            <td><select id="move">
                <option value="1MO">Para frente</option>
                <option value="2MO">Para direita</option>
                <option value="3MO">Para esquerda</option>
                <option value="4MO">Piscar</option>
              </select> </td>
          </tr>
        </table>
      </div>
      <button onclick="Send()" class='button third'>Animar olhos</button>
    </div>


    <BR>
    <BR>

    <div class="boxConf">
      <div class="boxConfExt">
        <table border=0>
          <tr class="us-form">
            <td>
              <F1>Movimento da cabeça:</F1>
            </td>
            <td><select id="head">
                <option value="3M_9999">Para esquerda</option>
                <option value="1M_9999">Para o centro</option>
                <option value="2M_9999">Para a direita</option>
              </select></td>
          </tr>
        </table>
      </div>
      <button onclick="SendHead()" class='button third'>Animar cabeça</button>
    </div>




    <BR>
    <BR>

    <div class="boxConf">
      <div class='boxConfExt'>
        <table border=0>
          <tr class="us-form">
            <td>
              <F1>Tipo de boca:</F1>
            </td>
            <td><select id="mounth">
                <option value="1">Boca 1</option>
                <option value="2">Boca 2</option>
                <option value="3">Boca 3</option>
              </select></td>
          </tr>
          <tr class="us-form">
            <td>
              <F1>Frame da boca:</F1>
            </td>
            <td><select id="level">
                <option value="0">Frame 1</option>
                <option value="1">Frame 2</option>
                <option value="2">Frame 3</option>
                <option value="3">Frame 4</option>
                <option value="4">Frame 5</option>
              </select></td>
          </tr>
        </table>
      </div>
      <button onclick="SendMounth()" class='button third'>Animar boca</button>
    </div>

    <BR>
    <BR>

    <div class="boxConf">
      <div class='boxConfExt'>
        <table border=0>
          <tr class="us-form">
            <td>
              <F1>LEDs da cabeça:</F1>
            </td>
            <td><select id="head_leds">
                <option value="sparkle">Piscando (Sparkle)</option>
                <option value="pulse_part">Pulsando partes</option>
                <option value="pulsando">Pulsando</option>
                <option value="correndo">Correndo</option>
                <option value="correndo_sparkle">Correndo Pulsando</option>
                <option value="clearAndExit">Desligar</option>
              </select></td>
          </tr>
        </table>
      </div>
      <button onclick="SendHeadLEDs()" class='button third'>Animar Led Cabeça</button>
    </div>

    <BR>
    <BR>

    <div class="boxConf">
      <div class='boxConfExt'>
        <table border=0>
          <tr class="us-form">
            <td>
              <F1>Leds do chão:</F1>
            </td>
            <td><select id="floor_leds">
                <option value="INIT">Cor fixa</option>
                <option value="GO">Fluxo</option>
                <option value="CLEAN">Desligar</option>
              </select></td>
          </tr>
        </table>
      </div>
      <button onclick="SendFloorLEDs()" class='button third'>Animar LED chão</button>
    </div>

  </div>
</body>

</html>

<SCRIPT>

  var r = document.querySelector(':root');
  var nav = navigator.platform;

  console.log(nav);
  if (nav == 'iPad') {
    r.style.setProperty('--SysLog', 'Helvetica Neue');

  }


  //
  bot = "BotC"


  // THIS FUNCION CALLS THE ARDUINO CODE!
  function Send() {

    e = document.getElementById("botIP");
    var botIP = e.options[e.selectedIndex].value;

    e = document.getElementById("exp");
    var exp = e.options[e.selectedIndex].value;

    e = document.getElementById("move");
    var move = e.options[e.selectedIndex].value;

    if (botIP == "169.254.1.51") {
      bot = "BotA";
    } else if (botIP == "169.254.1.41") {
      bot = "BotB";
    } else if (botIP == "169.254.1.31") {
      bot = "BotC";
    }

    pars = "?bot=" + bot;
    pars = pars + "&exp=" + exp;
    pars = pars + "&move=" + move;

    URL_reaction = "http://" + botIP + ":7777/moveEyesPI" + pars;

    var xhr = new XMLHttpRequest();

    xhr.open("GET", URL_reaction, true);
    xhr.send();


  }

  function SendHead() {
    e = document.getElementById("botIP");
    var botIP = e.options[e.selectedIndex].value;

    e = document.getElementById("head");
    var head = e.options[e.selectedIndex].value;

    if (botIP == "169.254.1.51") {
      bot = "BotA";
    } else if (botIP == "169.254.1.41") {
      bot = "BotB";
    } else if (botIP == "169.254.1.31") {
      bot = "BotC";
    }

    pars = "?bot=" + bot;
    pars = pars + "&move=" + head;

    URL_reaction = "http://" + botIP + ":7777/moveHeadPI" + pars;
    realURL = "http://" + window.location.hostname + ":7777/runRobotUI?url=" + encodeURIComponent(URL_reaction);

    var xhr = new XMLHttpRequest();

    xhr.open("GET", URL_reaction, true);
    xhr.send();


  }

  function SendMounth() {
    e = document.getElementById("botIP");
    var botIP = e.options[e.selectedIndex].value;

    e = document.getElementById("mounth");
    var mounth = e.options[e.selectedIndex].value;

    e = document.getElementById("level");
    var level = e.options[e.selectedIndex].value;

    if (botIP == "169.254.1.51") {
      bot = "BotA";
    } else if (botIP == "169.254.1.41") {
      bot = "BotB";
    } else if (botIP == "169.254.1.31") {
      bot = "BotC";
    }

    pars = "?bot=" + bot;
    pars = pars + "&mounth=" + mounth;
    pars = pars + "&level=" + level;

    URL_reaction = "http://" + botIP + ":7777/moveMounthPI" + pars;
    realURL = "http://" + window.location.hostname + ":7777/runRobotUI?url=" + encodeURIComponent(URL_reaction);

    var xhr = new XMLHttpRequest();

    var xhr = new XMLHttpRequest();

    xhr.open("GET", URL_reaction, true);
    xhr.send();;


  }

  function SendHeadLEDs() {

    e = document.getElementById("botIP");
    var botIP = e.options[e.selectedIndex].value;

    e = document.getElementById("head_leds");
    var efeito = e.options[e.selectedIndex].value;

    URL_reaction = "http://" + botIP + ":7778/" + efeito;
    realURL = "http://" + window.location.hostname + ":7777/runRobotUI?url=" + encodeURIComponent(URL_reaction);

    var xhr = new XMLHttpRequest();

    xhr.open("GET", URL_reaction, true);
    xhr.send();


  }

  function SendFloorLEDs() {

    e = document.getElementById("botIP");
    var botIP = e.options[e.selectedIndex].value;

    e = document.getElementById("floor_leds");
    var efeito = e.options[e.selectedIndex].value;

    URL_reaction = "http://" + botIP + ":7779/" + efeito;
    realURL = "http://" + window.location.hostname + ":7777/runRobotUI?url=" + encodeURIComponent(URL_reaction);

    var xhr = new XMLHttpRequest();

    var xhr = new XMLHttpRequest();

    xhr.open("GET", URL_reaction, true);
    xhr.send();


  }
  function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }


</SCRIPT>