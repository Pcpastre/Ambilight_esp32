<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>AutoStart</title>
    <style>
        :root {
            --SysLog: 'Calibri';
        }

        html {
            font-family: Helvetica;
            display: inline-block;
            margin: 0px auto;
            text-align: center;
            zoom: 150%;
        }

        body {
            margin-top: 2%;
        }


        .hello {
            margin-top: 1%;
            margin-left: 3%;
            display: flex;
            flex-direction: column;
            justify-content: left;
            align-items: left;
        }
        .disp{
            margin-top: 1%;
            margin-left: 0;
            height: 100vh;
            width: 20%;
            background: rgba(0, 128, 0, 0.479);
            border: solid green 1pt;
            border-radius: 10px;
        }

        .boxActionPCs {
            margin-top: 3%;
            margin-bottom: 3%;
            border: solid #1B7FD6 2pt;
            background: #00A1D6;
            border-radius: 10px;
            height: fit-content;
            width: fit-content;
            text-align: center;

        }
        .boxBar {
            margin: auto;
            border: solid #1B7FD6 2pt;
            background: #00A1D6;
            border-radius: 10px;
            height: fit-content;
            width: 100%;
            text-align: center;

        }

        .boxConfBar {
            margin: auto;
            height: fit-content;
            width: fit-content;
            text-align: center;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
        }

        .boxConf {  
            height: fit-content;
            width: fit-content;
            text-align: center;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
        }

        .boxTable {
            border: solid #1B7FD6 2pt;
            background: #00A1D6;
            border-radius: 10px;
            height: fit-content;
            width: fit-content;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        f1 {
            font-family:  var(--SysLog);
            font-weight: bold;
            color: #fff;
            font-size: relative;
        }

        h1 {
            font-family:  var(--SysLog);
            font-weight: bold;
            color: #00A1D6;
            font-size: relative;
        }

        .us-form select {
            position: relative;
            background: #00A1D6;
            font-family:  var(--SysLog);
            font-weight: bold;
            color: #fff;
            font-size: relative;

        }

        /*.button {
            margin-top: 1%;
            border: solid #1B7FD6 2pt;
            border-radius: 25px;
            background-color: #5A5E5F;
             Green 
            height: fit-content;
            width: fit-content;
            margin-left: 2%;
            text-align: center;
            display: inline-block;
            font-family: 'Calibri';
            font-weight: bold;
            color: #fff;
        }*/

        
        .title {
            height: fit-content;
            width: fit-content;
            margin-bottom: 5%;
            border: solid green 4pt;
            background: rgba(0, 128, 0, 0.479);
            border-radius: 30px;
            text-align: center;
            font-family: var(--SysLog);
            font-weight: bold;
            font-size: 100%;
            width: 20%;
            color: #fff;
            padding: 3px 1px;
        }
        .titleDiv {
            margin-top: 1%;
            margin-left: 0%;
            display: flex;
            flex-direction: column;
            justify-content: left;
            align-items: center;
        }




        
        .button {
            box-sizing: border-box;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-color: transparent;
            border: 2px solid #e74c3c;
            border-radius: 20px;
            color: #e74c3c;
            cursor: pointer;
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-align-self: center;
            -ms-flex-item-align: center;
            align-self: center;
            font-size: 1rem;
            font-weight: 400;
            line-height: 1;
            margin: 3%;
            padding: 5px 3px;
            text-decoration: none;
            text-align: center;
            text-transform: uppercase;
            font-family: var(--SysLog);
            font-weight: 700;
        }

        .button:hover,
        .button:focus {
            color: #fff;
            outline: 0;
        }

        .third {
            border-color: green;
            color: #fff;
            box-shadow: 0 0 40px 40px rgba(0, 128, 0, 0.479) inset, 0 0 0 0 rgba(0, 128, 0, 0.479);
            -webkit-transition: all 10ms ease-in-out;
            transition: all 150ms ease-in-out;
        }

        .third:hover {
            box-shadow: 0 0 10px 0 green inset, 0 0 10px 4px green;
        }

    </style>
</head>

<body style="background-color: rgb(43, 70, 121);">
 
    <div class="titleDiv">
        <div class="title">
            <F1>Controle dos dispositivos</F1>
        </div>
    </div>

    <div class="hello">

        <div class='boxConfBar'>
            <div class='boxBar'>
                <table border=0>
                    <tr class="us-form">
                        <td>
                            <button onclick="SendAction(1)"class='button third'>Dispositivos</button>
                        </td>
                        <td>
                            <button onclick="SendAction(2)" class='button third'>Sincronização</button>
                        </td>
                        <td>
                            <button onclick="SendAction(3)" class='button third'>Configuração</button>
                        </td>
                        <td>
                            <button onclick="SendAction()" class='button third'>Perfil</button>
                        </td>
                    </tr>
                </table>
            </div>
           
        </div>

        <div class='boxConfBar'>
            <div class='boxActionPCs'>
                <table border=0>
                    <tr class="us-form">
                        <td>
                            <F1>Utimos dispositivos Acessados:</F1>
                        </td>
                        <td><select id="dev">
                                <option value="1"><span id="v1">----</span></option>
                                <option value="2"><span id="v2">----</span></option>
                                <option value="3"><span id="v3">----</span></option>
                                <option value="4"><span id="v4">----</span></option>
                            </select>
                        </td>
                        <td>
                            <button onclick="selectDev()" class='button third'> Selecionar Dispositivo</button>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

</body>
<script>

    var r = document.querySelector(':root');
    var nav = navigator.platform;

    console.log(nav);
    if (nav == 'iPad') {
        r.style.setProperty('--SysLog', 'Helvetica Neue');

    }



    var myArray = ["v1", "v2", "v3", "v4", "v5", "v6", "v7", "v8", "v9", "v10", "v11", "v12", "v13", "v14", "v15", "v16", "v17", "v18", "v19", "v20", "v21"];
    var val = 0;
    setInterval(function () {
        // Call a function repetatively with 2 Second interval
        getData(val);
        val = val + 1;
        if (val > 20) {
            val = 0;
        }
    }, 500); //2000mSeconds update rate

    function getData(value) {
        var xhttp1 = new XMLHttpRequest();

        xhttp1.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var disp = "v" + (value + 1).toString();
                document.getElementById(disp).innerHTML =
                    this.responseText;
            }
        };
        var newVal = value.toString();
        var newData = "refresh?v=" + newVal;
        xhttp1.open("GET", newData, true);
        xhttp1.send();
    }
    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }

    function SendAction(disp) {
        console.log(disp);

    }


    function SendTvs() {
        e = document.getElementById("actionTvs");
        var action = e.options[e.selectedIndex].value;

        e = document.getElementById("dispTvs");
        var disp = e.options[e.selectedIndex].value;


        pars = "?action=" + action;
        pars = pars + "&disp=" + disp;

        URL_reaction = "http://" + window.location.hostname + ":/tvs" + pars;

        var xhr = new XMLHttpRequest();

        xhr.open("GET", URL_reaction, true);
        xhr.send();
        location.reload();

    }

    function SendRpi() {
        e = document.getElementById("actionRpi");
        var action = e.options[e.selectedIndex].value;

        e = document.getElementById("dispRpi");
        var disp = e.options[e.selectedIndex].value;


        pars = "?action=" + action;
        pars = pars + "&disp=" + disp;

        URL_reaction = "http://" + window.location.hostname + ":/RPI" + pars;

        var xhr = new XMLHttpRequest();

        xhr.open("GET", URL_reaction, true);
        xhr.send();
        location.reload();

    }
    function SendSom() {
        e = document.getElementById("actionSom");
        var action = e.options[e.selectedIndex].value;

        e = document.getElementById("dispSom");
        var disp = e.options[e.selectedIndex].value;


        pars = "?action=" + action;
        pars = pars + "&disp=" + disp;

        URL_reaction = "http://" + window.location.hostname + ":/SOM" + pars;

        var xhr = new XMLHttpRequest();

        xhr.open("GET", URL_reaction, true);
        xhr.send();
        location.reload();

    }

    function SendAnima() {


        var key = getUrlVars()["key"];

        URL_reaction = "http://" + window.location.hostname + ":4002/anima?key=" + key;

        window.location = URL_reaction;


    }

    function getUrlVars() {
        var vars = {};
        var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
            vars[key] = value;
        });
        return vars;
    }
</script>


</html>